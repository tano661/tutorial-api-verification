import { decodeFunctionData } from 'viem';
import AbiJson from '../utils/Abi.json';

// Data is taken from the data object generated by the Stargate API
// Abi is taken from the OFT contract
async function verifyStargateTransaction() {
  const data = decodeFunctionData({
    abi: AbiJson.abi,
    data: '0xc7c7f5b30000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000012ce34a4d0eb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000006d9798053f498451bec79c0397f7f95b079bdcd6000000000000000000000000000000000000000000000000000000000000759f0000000000000000000000006d9798053f498451bec79c0397f7f95b079bdcd60000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  });

  console.log('Decoded data:', data);
}

// Verify the transaction
void verifyStargateTransaction()
  .then(() => {
    console.log('Successfully verified Stargate transaction');
  })
  .catch((err) => {
    console.error('Failed to verify Stargate transaction:', err);
  });